platform: linux

image_resource:
  type: docker-image
  source:
    repository: hashicorp/terraform
    tag: "0.10.8"

inputs:
- name: source
- name: common-tasks

outputs:
- name: terraform

params:
  command:
  directory: terraform
  cache: true
  lock_timeout: 5m
  access_key:
  secret_key:

caches:
- path: source/cache

run:
  path: common-tasks/terraform/terraform.sh
